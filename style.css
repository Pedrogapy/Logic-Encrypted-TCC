:root{
  --bg:#0f1420; --panel:#151b2b; --panel2:#0f1729; --fg:#e7ecf7;
  --muted:#9aa7bd; --ok:#6df2bd; --b1:#202a40; --btn:#1b2438; --btn2:#243052;
  --accent:#6ea8fe; --grid:#111929; --wall:#2a3552; --door:#51e3a6;
  --page:#5aa3ff; --terminal:#ffb84d; --player:#75f7ff;
}
*{box-sizing:border-box} html,body{height:100%;margin:0;padding:0;background:var(--bg);color:var(--fg);font:15px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
.wrap{max-width:1200px;margin:28px auto;padding:0 16px}
h1{margin:0 0 8px} .sub{color:var(--muted);margin:0 0 22px}

.bar{display:flex;gap:12px;align-items:center;justify-content:space-between;background:var(--panel);border:1px solid var(--b1);border-radius:12px;padding:14px}
.small{font-size:13px;color:var(--muted)} .ok{color:var(--ok)}
.actions{display:flex;gap:8px}
.btn{background:var(--btn);border:1px solid var(--btn2);border-radius:8px;color:var(--fg);padding:8px 12px;cursor:pointer}
.btn:hover{background:#223050} .btn.small{padding:6px 10px;font-size:13px}
kbd{padding:2px 6px;border:1px solid var(--b1);border-radius:6px;background:#0b1220;color:#b7c3db}

.panel{background:var(--panel);border:1px solid var(--b1);border-radius:12px;padding:12px}
.row{display:flex;justify-content:space-between;color:var(--muted)}

.game-root{margin-top:16px;background:var(--panel2);border:1px solid var(--b1);border-radius:12px;padding:12px}
.game-frame{position:relative;height:540px;border:1px solid var(--b1);border-radius:12px;background:#0b111a;overflow:hidden}
canvas{display:block;width:100%;height:100%;image-rendering:pixelated}
.legend{margin-top:8px;color:var(--muted);font-size:13px}

.hint{position:absolute;left:50%;bottom:14px;transform:translateX(-50%);background:#0b1220cc;border:1px solid var(--b1);padding:6px 10px;border-radius:8px;color:#cfe0ff;font-size:13px;backdrop-filter: blur(2px)}

.modal{position:fixed;inset:0;background:#0008;display:grid;place-items:center;padding:16px}
.modal[hidden]{display:none}
.modal-box{width:min(840px,96vw);background:var(--panel);border:1px solid var(--b1);border-radius:12px}
.modal-head{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-bottom:1px solid var(--b1)}
.modal-body{padding:12px}
code, pre{background:#0d1320;border:1px solid var(--b1);border-radius:8px;color:#cfe0ff}
pre{padding:10px;overflow:auto}
.lbl{display:block;margin:10px 0;color:var(--muted)}
.txt{width:220px;background:#0d1320;border:1px solid var(--b1);border-radius:8px;color:var(--fg);padding:8px}
.msg{margin-top:8px}
